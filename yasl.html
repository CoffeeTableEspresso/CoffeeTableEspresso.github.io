<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="my website">
<base href="/">
<title>CoffeeTableEspresso - YASL</title>
<link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
  
  <!-- Header -->
    <!-- include includes/header.html here -->
  
  <div>
    <h1> about </h1>
    <p> YASL (Yet Another Scripting Language) is a language i'm currently working on. 
        i'm writing a bytecode interpreter for YASL at the moment, which can be found 
        <a href="https://github.com/CoffeeTableEspresso/YASL"> here</a>. 
        i will write up proper documentation in the future, once either 
        (a) someone harasses me or 
        (b) i feel like it and have some free time. 
    </p>
    <h1> features </h1> 
    <p> currently, YASL supports ints and floats (both 64-bit), and adding, subtracting, multiplying, dividing 
        (dividing always returns a float, as that's what you want in almost all cases), negation, and global variables.
    </p>
    <p> in the near future (i.e. once i get some time after co-op job appls), i'll be trying to add booleans, strings,
        (and some basic associated operations), ternary operators, if-(else-)statements, and loops. once that's complete, 
        i'll move on to functions, and eventually more complicated data structures like lists, associative arrays, and classes.
    </p>
    <h1> syntax </h1>
    <p> usual infix notation for operators. </p>
    <p> variables are declared with (e.g.) <code>var x = 5</code>. 
        currently, <code>var</code> must be used whenever a variable is to change value, but that should be fixed soon 
        (just a few lines extra code in the parser).
    </p>    
    <p> values can be printed using <code>print value</code>. </p>
    <h1> 06/01/2018 </h1>
    <p> added <code>&gt;</code>, <code>&gt;=</code>, <code>&lt;</code>, and <code>&lt;=</code>. i basically reused the same macro as for the 
        binary operators, although i changed it a bit, because i wanted to return a bool, not an int.
    </p>
    <h1> 05/01/2018 </h1>
    <p> added <code>nil</code> value. </p>
    <p> i figured out how to do if-statements and while-loops, but i need to implement scopes first. </p>
    <p> i implemented the ternary operator (same as C, unless i f*cked something up), using branch if false
        and unconditional branch. 
    </p>
    <p> i decided that <code>false</code> and <code>nil</code> are falsey, and everything else is truthy. this
        seems like the cleanest way to do things. i'm not a big fan of the python way of having the trivial instances of 
        everything (empty string, empty list, empty anything, None, false, 0, etc) be falsey. it just feels like too many.
    </p>
    <p> once i figure out scopes i'll add while-loops and if statements. </p>
    <p> actually, i guess adding <code>!</code>, <code>and</code>, <code>or</code>, comparators, etc is probably the next step now that i have 
      the ternary operator and booleans. 
    </p>
    <p> added <code>!</code>, <code>and</code>, <code>or</code>. will work on comparators later. 
        <code>and</code> and <code>or</code> shortcircuit, which took me a while to figure out how to implement
        without adding registers to my VM. long story short, i got it working, but i had to add a "duplicate" instruction
        to the VM, to let me get away with only evaluating the left condition once.
    </p>
    <p> the idea is, push the left side onto the stack, duplicate it, push the size of the right side + 1 onto the stack,
        branch if the left side is truthy (for <code>or</code>) or falsey (for <code>and</code>) 
        (this skips over all the stuff for the right side if we branch), pop top of stack 
        (this gets rid of the second copy of the left side from stack), then push the right side to stack. 
        this is not the best explanation, since i haven't actually explained how my VM or bytecodes actually work, 
        but hopefully it gives an idea.
    </p>
    <p> maybe there's a better way to do this, but nothing comes to mind. </p>
    <p> cleaned up the code for the binary operators a lot by making it into a macro, since it was basically the same for add,
        multiply and subtract.
    </p>
    <h1> 04/01/2018 </h1>
    <p> added booleans. </p>
  </div>
  
</body>
</html>
